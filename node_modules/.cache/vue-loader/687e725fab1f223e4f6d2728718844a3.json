{"remainingRequest":"/Users/tomjongbloets/newsapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tomjongbloets/newsapp/src/components/news/EditNews.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tomjongbloets/newsapp/src/components/news/EditNews.vue","mtime":1587211026419},{"path":"/Users/tomjongbloets/newsapp/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tomjongbloets/newsapp/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/tomjongbloets/newsapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomjongbloets/newsapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYiBmcm9tICcuLi9maXJlYmFzZUluaXQnCmV4cG9ydCBkZWZhdWx0IHsKICAgICBkZXB0OiAnbmV3LWVtcGxveWVlJywKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIG5ld3NfaWQ6IG51bGwsCiAgICAgICAgICAgIGF1dGhvcjogbnVsbCwKICAgICAgICAgICAgaW1hZ2U6IG51bGwsCiAgICAgICAgICAgIHRpdGxlOiBudWxsLAogICAgICAgICAgICB0ZXh0OiBudWxsLAogICAgICAgICAgICB0aW1lOiBudWxsCiAgICAgICAgfQogICAgfSwKICAgIC8vVm9vcmRhdCBkZSBwYWdpbmEgZ2VsYWRlbiB3b3JkdCBoYWFsdCBoaWogZGUgZGF0YSBvcC4gCiAgICBiZWZvcmVSb3V0ZUVudGVyICh0bywgZnJvbSwgbmV4dCl7CiAgICAgICAgZGIuY29sbGVjdGlvbignbmV3cycpLndoZXJlKCduZXdzX2lkJywgJz09JywgdG8ucGFyYW1zLm5ld3NfaWQpLmdldCgpCiAgICAgICAgLnRoZW4ocXVlcnlTbmFwc2hvdCA9PiB7CiAgICAgICAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaChkb2MgPT57CiAgICAgICAgICAgICAgICBuZXh0KHZtID0+IHsKICAgICAgICAgICAgICAgICAgICB2bS5uZXdzX2lkID0gZG9jLmRhdGEoKS5uZXdzX2lkCiAgICAgICAgICAgICAgICAgICAgdm0uYXV0aG9yID0gZG9jLmRhdGEoKS5hdXRob3IKICAgICAgICAgICAgICAgICAgICB2bS5pbWFnZSA9IGRvYy5kYXRhKCkuaW1hZ2UKICAgICAgICAgICAgICAgICAgICB2bS50aXRsZSA9IGRvYy5kYXRhKCkudGl0bGUKICAgICAgICAgICAgICAgICAgICB2bS50ZXh0ID0gZG9jLmRhdGEoKS50ZXh0CiAgICAgICAgICAgICAgICAgICAgdm0udGltZSA9IGRvYy5kYXRhKCkudGltZQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICB9KQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgJyRyb3V0ZSc6ICdmZXRjaERhdGEnCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGZldGNoRGF0YSAoKXsKICAgICAgICAgICAgZGIuY29sbGVjdGlvbignbmV3cycpLndoZXJlKCduZXdzX2lkJywgJz09JywgdGhpcy4kcm91dGUucGFyYW1zLm5ld3NfaWQpLmdldCgpCiAgICAgICAgICAgIC50aGVuKHF1ZXJ5U25hcHNob3QgPT4gewogICAgICAgICAgICAgICAgcXVlcnlTbmFwc2hvdC5mb3JFYWNoKGRvYyA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXdzX2lkID0gZG9jLmRhdGEoKS5uZXdzX2lkCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRob3IgPSBkb2MuZGF0YSgpLmF1dGhvcgogICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UgPSBkb2MuZGF0YSgpLmltYWdlCiAgICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZSA9IGRvYy5kYXRhKCkudGl0bGUKICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSBkb2MuZGF0YSgpLnRleHQKICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWUgPSBkb2MuZGF0YSgpLnRpbWUKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICB1cGRhdGVOZXdzICgpIHsKICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oJ25ld3MnKS53aGVyZSgnbmV3c19pZCcsICc9PScsIHRoaXMuJHJvdXRlLnBhcmFtcy5uZXdzX2lkKS5nZXQoKQogICAgICAgICAgICAudGhlbihxdWVyeVNuYXBzaG90ID0+IHsKICAgICAgICAgICAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaChkb2MgPT4gewogICAgICAgICAgICAgICAgICAgIGRvYy5yZWYudXBkYXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV3c19pZDogdGhpcy5uZXdzX2lkLAogICAgICAgICAgICAgICAgICAgICAgICBhdXRob3I6IHRoaXMuYXV0aG9yLAogICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogdGhpcy5pbWFnZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGV4dCwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogdGhpcy50aW1lLAogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4KICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAndmlldy1uZXdzJywgcGFyYW1zOiB7bmV3c19pZDogdGhpcy5uZXdzX2lkfX0pCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfQogICAgfQo="},{"version":3,"sources":["EditNews.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditNews.vue","sourceRoot":"src/components/news","sourcesContent":["<template>\n    <div id=\"new-news\">\n        <h3>Create News Item</h3>\n        <div class=\"row\">\n           <form @submit.prevent=\"updateNews\" class=\"col s12\">\n                <div class=\"row\">\n                    <div class=\"input-field colo s12\">\n                        <input disabled type=\"text\" v-model=\"news_id\" required>\n                        <label>News ID#</label>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"input-field colo s12\">\n                        <input type=\"text\" v-model=\"author\" required>\n                        <label>Auteur</label>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"input-field colo s12\">\n                        <input type=\"text\" v-model=\"image\" required>\n                        <label>News Image</label>\n                    </div>\n                </div>\n                 <div class=\"row\">\n                    <div class=\"input-field colo s12\">\n                        <input type=\"text\" v-model=\"title\" required>\n                        <label>Titel</label>\n                    </div>\n                </div>\n                  <div class=\"row\">\n                    <div class=\"input-field colo s12\">\n                        <input type=\"text\" v-model=\"text\" required>\n                        <label>Bericht</label>\n                    </div>\n                </div>\n                  <div class=\"row\">\n                    <div class=\"input-field colo s12\">\n                        <input type=\"text\" v-model=\"time\" required>\n                        <label>Datum Bericht</label>\n                    </div>\n                </div>\n                <button type=\"submit\" class=\"btn\">Submit</button>\n                <router-link to=\"/news\" class=\"btn grey\">Cancel</router-link>\n            </form>\n        </div>\n    </div>\n</template>\n\n<script>\nimport db from '../firebaseInit'\nexport default {\n     dept: 'new-employee',\n    data(){\n        return{\n            news_id: null,\n            author: null,\n            image: null,\n            title: null,\n            text: null,\n            time: null\n        }\n    },\n    //Voordat de pagina geladen wordt haalt hij de data op. \n    beforeRouteEnter (to, from, next){\n        db.collection('news').where('news_id', '==', to.params.news_id).get()\n        .then(querySnapshot => {\n            querySnapshot.forEach(doc =>{\n                next(vm => {\n                    vm.news_id = doc.data().news_id\n                    vm.author = doc.data().author\n                    vm.image = doc.data().image\n                    vm.title = doc.data().title\n                    vm.text = doc.data().text\n                    vm.time = doc.data().time\n                })\n            })\n        })\n    },\n    watch: {\n        '$route': 'fetchData'\n    },\n    methods: {\n        fetchData (){\n            db.collection('news').where('news_id', '==', this.$route.params.news_id).get()\n            .then(querySnapshot => {\n                querySnapshot.forEach(doc => {\n                    this.news_id = doc.data().news_id\n                    this.author = doc.data().author\n                    this.image = doc.data().image\n                    this.title = doc.data().title\n                    this.text = doc.data().text\n                    this.time = doc.data().time\n                })\n            })\n        },\n        updateNews () {\n             db.collection('news').where('news_id', '==', this.$route.params.news_id).get()\n            .then(querySnapshot => {\n                querySnapshot.forEach(doc => {\n                    doc.ref.update({\n                        news_id: this.news_id,\n                        author: this.author,\n                        image: this.image,\n                        title: this.title,\n                        text: this.text,\n                        time: this.time,\n                    })\n                    .then(() =>\n                    {\n                        this.$router.push({name: 'view-news', params: {news_id: this.news_id}})\n                    })\n                })\n            })\n        }\n    }\n    }\n</script>"]}]}