{"remainingRequest":"/Users/tomjongbloets/newsfeed-buid/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tomjongbloets/newsfeed-buid/src/components/news/CreateNews.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tomjongbloets/newsfeed-buid/src/components/news/CreateNews.vue","mtime":1587388509611},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkYiBmcm9tICcuLi9maXJlYmFzZUluaXQnCmltcG9ydCBmaXJlYmFzZSwgeyBzdG9yYWdlIH0gZnJvbSAnZmlyZWJhc2UnCgpleHBvcnQgZGVmYXVsdCB7IAogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgbmV3c19pZDogbnVsbCwKICAgICAgICAgICAgYXV0aG9yOiBudWxsLAogICAgICAgICAgICBpbWFnZTogbnVsbCwKICAgICAgICAgICAgdGl0bGU6IG51bGwsCiAgICAgICAgICAgIHRleHQ6IG51bGwsCiAgICAgICAgICAgIHRpbWU6IG51bGwsCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHMgOiB7CiAgICAgICAgc2F2ZU5ld3MoKXsKICAgICAgICAgICAgZGIuY29sbGVjdGlvbignbmV3cycpLmFkZCh7CiAgICAgICAgICAgICAgICBuZXdzX2lkOiB0aGlzLm5ld3NfaWQsCiAgICAgICAgICAgICAgICBhdXRob3I6IHRoaXMuYXV0aG9yLAogICAgICAgICAgICAgICAgaW1hZ2U6IHRoaXMuaW1hZ2UsCiAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSwKICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMudGV4dCwKICAgICAgICAgICAgICAgIHRpbWU6IHRoaXMudGltZQogICAgICAgICAgICB9KQogICAgICAgICAgICAudGhlbih0aGlzLiRyb3V0ZXIucHVzaCgnLycpCiAgICAgICAgICAgICkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXBsb2FkSW1hZ2UoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmV3IGZpcmViYXNlLmZpcmVzdG9yZS5UaW1lc3RhbXAoKSkgCgogICAgICAgICAgICAgICAgbGV0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXQoKICAgICAgICAgICAgICAgIHZhciBzdG9yYWdlUmVmID0gZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZignbmV3cy8nICsgZmlsZS5uYW1lKQoKICAgICAgICAgICAgICAgIGxldCB1cGxvYWRUYXNrID0gc3RvcmFnZVJlZi5wdXQoZmlsZSk7CgogICAgICAgICAgICAgICAgc3RvcmFnZVJlZi5wdXQoZmlsZSk7CgogICAgICAgICAgICAgICAgICAgIHVwbG9hZFRhc2sub24oJ3N0YXRlX2NoYW5nZWQnLCAoc25hcHNob3QpID0+ewoKICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4gewogICAgICAgICAgICAgICAgLy8gSGFuZGxlIHVuc3VjY2Vzc2Z1bCB1cGxvYWRzCiAgICAgICAgICAgICAgICB9LCAoKSA9PiB7CiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc3VjY2Vzc2Z1bCB1cGxvYWRzIG9uIGNvbXBsZXRlCiAgICAgICAgICAgICAgICAvLyBGb3IgaW5zdGFuY2UsIGdldCB0aGUgZG93bmxvYWQgVVJMOiBodHRwczovL2ZpcmViYXNlc3RvcmFnZS5nb29nbGVhcGlzLmNvbS8uLi4KICAgICAgICAgICAgICAgIHVwbG9hZFRhc2suc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbigoZG93bmxvYWRVUkwpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gZG93bmxvYWRVUkw7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZpbGUgYXZhaWxhYmxlIGF0JywgZG93bmxvYWRVUkwpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQp9IAoKCgoKCgo="},{"version":3,"sources":["CreateNews.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateNews.vue","sourceRoot":"src/components/news","sourcesContent":["<template>\n    <v-container>\n        <v-row align=\"center\" justify=\"center\">\n        <form @submit.prevent=\"saveNews\">\n      <v-text-field\n        v-model=\"news_id\"\n        :counter=\"20\"\n        label=\"news_id\"\n        required\n      ></v-text-field>\n      <v-text-field\n        v-model=\"author\"\n        :counter=\"20\"\n        label=\"author\"\n        required\n      ></v-text-field>\n\n        <input type=\"file\" @change=\"uploadImage\" required>\n        <label>News Image</label>\n\n        <v-text-field\n        v-model=\"title\"\n        :counter=\"20\"\n        label=\"title\"\n        required\n      ></v-text-field>\n\n      <v-text-field\n        v-model=\"text\"\n        :counter=\"20\"\n        label=\"text\"\n        required\n      ></v-text-field>\n\n\n        <button type=\"submit\" class=\"btn\">Submit</button>\n        <router-link to=\"/news\" class=\"btn grey\">Cancel</router-link>\n            </form>\n        </v-row>\n</v-container>\n</template> \n\n<script>\nimport db from '../firebaseInit'\nimport firebase, { storage } from 'firebase'\n\nexport default { \n    data(){\n        return{\n            news_id: null,\n            author: null,\n            image: null,\n            title: null,\n            text: null,\n            time: null,\n        }\n    },\n    methods : {\n        saveNews(){\n            db.collection('news').add({\n                news_id: this.news_id,\n                author: this.author,\n                image: this.image,\n                title: this.title,\n                text: this.text,\n                time: this.time\n            })\n            .then(this.$router.push('/')\n            )\n            },\n            uploadImage(e) {\n                console.log(new firebase.firestore.Timestamp()) \n\n                let file = e.target.files[0]\n\n                var storageRef = firebase.storage().ref('news/' + file.name)\n\n                let uploadTask = storageRef.put(file);\n\n                storageRef.put(file);\n\n                    uploadTask.on('state_changed', (snapshot) =>{\n\n                }, (error) => {\n                // Handle unsuccessful uploads\n                }, () => {\n                // Handle successful uploads on complete\n                // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n                uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\n                    this.image = downloadURL;\n                    console.log('File available at', downloadURL);\n                });\n                });\n                }\n            }\n} \n\n\n\n\n\n\n</script>"]}]}