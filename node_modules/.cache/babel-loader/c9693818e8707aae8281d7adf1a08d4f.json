{"remainingRequest":"/Users/tomjongbloets/newsfeed-buid/node_modules/babel-loader/lib/index.js!/Users/tomjongbloets/newsfeed-buid/node_modules/vuetify-loader/lib/loader.js??ref--17-0!/Users/tomjongbloets/newsfeed-buid/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tomjongbloets/newsfeed-buid/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tomjongbloets/newsfeed-buid/src/components/news/CreateNews.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tomjongbloets/newsfeed-buid/src/components/news/CreateNews.vue","mtime":1587388509611},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBkYiBmcm9tICcuLi9maXJlYmFzZUluaXQnOwppbXBvcnQgZmlyZWJhc2UsIHsgc3RvcmFnZSB9IGZyb20gJ2ZpcmViYXNlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZXdzX2lkOiBudWxsLAogICAgICBhdXRob3I6IG51bGwsCiAgICAgIGltYWdlOiBudWxsLAogICAgICB0aXRsZTogbnVsbCwKICAgICAgdGV4dDogbnVsbCwKICAgICAgdGltZTogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmVOZXdzOiBmdW5jdGlvbiBzYXZlTmV3cygpIHsKICAgICAgZGIuY29sbGVjdGlvbignbmV3cycpLmFkZCh7CiAgICAgICAgbmV3c19pZDogdGhpcy5uZXdzX2lkLAogICAgICAgIGF1dGhvcjogdGhpcy5hdXRob3IsCiAgICAgICAgaW1hZ2U6IHRoaXMuaW1hZ2UsCiAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsCiAgICAgICAgdGV4dDogdGhpcy50ZXh0LAogICAgICAgIHRpbWU6IHRoaXMudGltZQogICAgICB9KS50aGVuKHRoaXMuJHJvdXRlci5wdXNoKCcvJykpOwogICAgfSwKICAgIHVwbG9hZEltYWdlOiBmdW5jdGlvbiB1cGxvYWRJbWFnZShlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyhuZXcgZmlyZWJhc2UuZmlyZXN0b3JlLlRpbWVzdGFtcCgpKTsKICAgICAgdmFyIGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgdmFyIHN0b3JhZ2VSZWYgPSBmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCduZXdzLycgKyBmaWxlLm5hbWUpOwogICAgICB2YXIgdXBsb2FkVGFzayA9IHN0b3JhZ2VSZWYucHV0KGZpbGUpOwogICAgICBzdG9yYWdlUmVmLnB1dChmaWxlKTsKICAgICAgdXBsb2FkVGFzay5vbignc3RhdGVfY2hhbmdlZCcsIGZ1bmN0aW9uIChzbmFwc2hvdCkge30sIGZ1bmN0aW9uIChlcnJvcikgey8vIEhhbmRsZSB1bnN1Y2Nlc3NmdWwgdXBsb2FkcwogICAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gSGFuZGxlIHN1Y2Nlc3NmdWwgdXBsb2FkcyBvbiBjb21wbGV0ZQogICAgICAgIC8vIEZvciBpbnN0YW5jZSwgZ2V0IHRoZSBkb3dubG9hZCBVUkw6IGh0dHBzOi8vZmlyZWJhc2VzdG9yYWdlLmdvb2dsZWFwaXMuY29tLy4uLgogICAgICAgIHVwbG9hZFRhc2suc25hcHNob3QucmVmLmdldERvd25sb2FkVVJMKCkudGhlbihmdW5jdGlvbiAoZG93bmxvYWRVUkwpIHsKICAgICAgICAgIF90aGlzLmltYWdlID0gZG93bmxvYWRVUkw7CiAgICAgICAgICBjb25zb2xlLmxvZygnRmlsZSBhdmFpbGFibGUgYXQnLCBkb3dubG9hZFVSTCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["CreateNews.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAA,EAAA,MAAA,iBAAA;AACA,OAAA,QAAA,IAAA,OAAA,QAAA,UAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,MAAA,EAAA,IAFA;AAGA,MAAA,KAAA,EAAA,IAHA;AAIA,MAAA,KAAA,EAAA,IAJA;AAKA,MAAA,IAAA,EAAA,IALA;AAMA,MAAA,IAAA,EAAA;AANA,KAAA;AAQA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,MAAA,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,GAAA,CAAA;AACA,QAAA,OAAA,EAAA,KAAA,OADA;AAEA,QAAA,MAAA,EAAA,KAAA,MAFA;AAGA,QAAA,KAAA,EAAA,KAAA,KAHA;AAIA,QAAA,KAAA,EAAA,KAAA,KAJA;AAKA,QAAA,IAAA,EAAA,KAAA,IALA;AAMA,QAAA,IAAA,EAAA,KAAA;AANA,OAAA,EAQA,IARA,CAQA,KAAA,OAAA,CAAA,IAAA,CAAA,GAAA,CARA;AAUA,KAZA;AAaA,IAAA,WAbA,uBAaA,CAbA,EAaA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA,QAAA,CAAA,SAAA,CAAA,SAAA,EAAA;AAEA,UAAA,IAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AAEA,UAAA,UAAA,GAAA,QAAA,CAAA,OAAA,GAAA,GAAA,CAAA,UAAA,IAAA,CAAA,IAAA,CAAA;AAEA,UAAA,UAAA,GAAA,UAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AAEA,MAAA,UAAA,CAAA,GAAA,CAAA,IAAA;AAEA,MAAA,UAAA,CAAA,EAAA,CAAA,eAAA,EAAA,UAAA,QAAA,EAAA,CAEA,CAFA,EAEA,UAAA,KAAA,EAAA,CACA;AACA,OAJA,EAIA,YAAA;AACA;AACA;AACA,QAAA,UAAA,CAAA,QAAA,CAAA,GAAA,CAAA,cAAA,GAAA,IAAA,CAAA,UAAA,WAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,GAAA,WAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,mBAAA,EAAA,WAAA;AACA,SAHA;AAIA,OAXA;AAYA;AApCA;AAXA,CAAA","sourcesContent":["<template>\n    <v-container>\n        <v-row align=\"center\" justify=\"center\">\n        <form @submit.prevent=\"saveNews\">\n      <v-text-field\n        v-model=\"news_id\"\n        :counter=\"20\"\n        label=\"news_id\"\n        required\n      ></v-text-field>\n      <v-text-field\n        v-model=\"author\"\n        :counter=\"20\"\n        label=\"author\"\n        required\n      ></v-text-field>\n\n        <input type=\"file\" @change=\"uploadImage\" required>\n        <label>News Image</label>\n\n        <v-text-field\n        v-model=\"title\"\n        :counter=\"20\"\n        label=\"title\"\n        required\n      ></v-text-field>\n\n      <v-text-field\n        v-model=\"text\"\n        :counter=\"20\"\n        label=\"text\"\n        required\n      ></v-text-field>\n\n\n        <button type=\"submit\" class=\"btn\">Submit</button>\n        <router-link to=\"/news\" class=\"btn grey\">Cancel</router-link>\n            </form>\n        </v-row>\n</v-container>\n</template> \n\n<script>\nimport db from '../firebaseInit'\nimport firebase, { storage } from 'firebase'\n\nexport default { \n    data(){\n        return{\n            news_id: null,\n            author: null,\n            image: null,\n            title: null,\n            text: null,\n            time: null,\n        }\n    },\n    methods : {\n        saveNews(){\n            db.collection('news').add({\n                news_id: this.news_id,\n                author: this.author,\n                image: this.image,\n                title: this.title,\n                text: this.text,\n                time: this.time\n            })\n            .then(this.$router.push('/')\n            )\n            },\n            uploadImage(e) {\n                console.log(new firebase.firestore.Timestamp()) \n\n                let file = e.target.files[0]\n\n                var storageRef = firebase.storage().ref('news/' + file.name)\n\n                let uploadTask = storageRef.put(file);\n\n                storageRef.put(file);\n\n                    uploadTask.on('state_changed', (snapshot) =>{\n\n                }, (error) => {\n                // Handle unsuccessful uploads\n                }, () => {\n                // Handle successful uploads on complete\n                // For instance, get the download URL: https://firebasestorage.googleapis.com/...\n                uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\n                    this.image = downloadURL;\n                    console.log('File available at', downloadURL);\n                });\n                });\n                }\n            }\n} \n\n\n\n\n\n\n</script>"],"sourceRoot":"src/components/news"}]}