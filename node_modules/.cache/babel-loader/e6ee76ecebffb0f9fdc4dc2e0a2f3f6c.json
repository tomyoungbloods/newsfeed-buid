{"remainingRequest":"/Users/tomjongbloets/newsfeed-buid/node_modules/babel-loader/lib/index.js!/Users/tomjongbloets/newsfeed-buid/src/assets/js/bubble.js","dependencies":[{"path":"/Users/tomjongbloets/newsfeed-buid/src/assets/js/bubble.js","mtime":1587493614858},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tomjongbloets/newsfeed-buid/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbGwiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLmJpbmQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIik7Cgp2YXIgX3R5cGVvZiA9IHJlcXVpcmUoIi9Vc2Vycy90b21qb25nYmxvZXRzL25ld3NmZWVkLWJ1aWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvdHlwZW9mIik7Cgp2YXIgX2NsYXNzQ2FsbENoZWNrID0gcmVxdWlyZSgiL1VzZXJzL3RvbWpvbmdibG9ldHMvbmV3c2ZlZWQtYnVpZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpOwoKdmFyIF9jcmVhdGVDbGFzcyA9IHJlcXVpcmUoIi9Vc2Vycy90b21qb25nYmxvZXRzL25ld3NmZWVkLWJ1aWQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKTsKCnZhciBjYW52YXMsIGN0eDsKdmFyIHJlbmRlciwgaW5pdDsKdmFyIGJsb2I7Cgp2YXIgQmxvYiA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBCbG9iKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJsb2IpOwoKICAgIHRoaXMucG9pbnRzID0gW107CiAgfQoKICBfY3JlYXRlQ2xhc3MoQmxvYiwgW3sKICAgIGtleTogImluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5udW1Qb2ludHM7IGkrKykgewogICAgICAgIHZhciBwb2ludCA9IG5ldyBQb2ludCh0aGlzLmRpdmlzaW9uYWwgKiAoaSArIDEpLCB0aGlzKTsgLy8gcG9pbnQuYWNjZWxlcmF0aW9uID0gLTEgKyBNYXRoLnJhbmRvbSgpICogMjsKCiAgICAgICAgdGhpcy5wdXNoKHBvaW50KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInJlbmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXM7CiAgICAgIHZhciBjdHggPSB0aGlzLmN0eDsKICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbjsKICAgICAgdmFyIHBvaW50c0FycmF5ID0gdGhpcy5wb2ludHM7CiAgICAgIHZhciByYWRpdXMgPSB0aGlzLnJhZGl1czsKICAgICAgdmFyIHBvaW50cyA9IHRoaXMubnVtUG9pbnRzOwogICAgICB2YXIgZGl2aXNpb25hbCA9IHRoaXMuZGl2aXNpb25hbDsKICAgICAgdmFyIGNlbnRlciA9IHRoaXMuY2VudGVyOwogICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgIHBvaW50c0FycmF5WzBdLnNvbHZlV2l0aChwb2ludHNBcnJheVtwb2ludHMgLSAxXSwgcG9pbnRzQXJyYXlbMV0pOwogICAgICB2YXIgcDAgPSBwb2ludHNBcnJheVtwb2ludHMgLSAxXS5wb3NpdGlvbjsKICAgICAgdmFyIHAxID0gcG9pbnRzQXJyYXlbMF0ucG9zaXRpb247CiAgICAgIHZhciBfcDIgPSBwMTsKICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICBjdHgubW92ZVRvKGNlbnRlci54LCBjZW50ZXIueSk7CiAgICAgIGN0eC5tb3ZlVG8oKHAwLnggKyBwMS54KSAvIDIsIChwMC55ICsgcDEueSkgLyAyKTsKCiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcG9pbnRzOyBpKyspIHsKICAgICAgICBwb2ludHNBcnJheVtpXS5zb2x2ZVdpdGgocG9pbnRzQXJyYXlbaSAtIDFdLCBwb2ludHNBcnJheVtpICsgMV0gfHwgcG9pbnRzQXJyYXlbMF0pOwogICAgICAgIHZhciBwMiA9IHBvaW50c0FycmF5W2ldLnBvc2l0aW9uOwogICAgICAgIHZhciB4YyA9IChwMS54ICsgcDIueCkgLyAyOwogICAgICAgIHZhciB5YyA9IChwMS55ICsgcDIueSkgLyAyOwogICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHAxLngsIHAxLnksIHhjLCB5Yyk7IC8vIGN0eC5saW5lVG8ocDIueCwgcDIueSk7CgogICAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7IC8vIGN0eC5maWxsUmVjdChwMS54LTIuNSwgcDEueS0yLjUsIDUsIDUpOwoKICAgICAgICBwMSA9IHAyOwogICAgICB9CgogICAgICB2YXIgeGMgPSAocDEueCArIF9wMi54KSAvIDI7CiAgICAgIHZhciB5YyA9IChwMS55ICsgX3AyLnkpIC8gMjsKICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8ocDEueCwgcDEueSwgeGMsIHljKTsgLy8gY3R4LmxpbmVUbyhfcDIueCwgX3AyLnkpOwogICAgICAvLyBjdHguY2xvc2VQYXRoKCk7CgogICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjsKICAgICAgY3R4LmZpbGwoKTsKICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJyMwMDAwMDAnOyAvLyBjdHguc3Ryb2tlKCk7CgogICAgICAvKgogICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICcjMDAwMDAwJzsKICAgICAgICAgIGlmKHRoaXMubW91c2VQb3MpIHsKICAgICAgICAgICAgbGV0IGFuZ2xlID0gTWF0aC5hdGFuMih0aGlzLm1vdXNlUG9zLnksIHRoaXMubW91c2VQb3MueCkgKyBNYXRoLlBJOwogICAgICAgICAgICBjdHguZmlsbFJlY3QoY2VudGVyLnggKyBNYXRoLmNvcyhhbmdsZSkgKiB0aGlzLnJhZGl1cywgY2VudGVyLnkgKyBNYXRoLnNpbihhbmdsZSkgKiB0aGlzLnJhZGl1cywgNSwgNSk7CiAgICAgICAgICB9CiAgICAgICovCgogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXIuYmluZCh0aGlzKSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicHVzaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHVzaChpdGVtKSB7CiAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgUG9pbnQpIHsKICAgICAgICB0aGlzLnBvaW50cy5wdXNoKGl0ZW0pOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiY29sb3IiLAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgdGhpcy5fY29sb3IgPSB2YWx1ZTsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2NvbG9yIHx8ICcjMDAwMDAwJzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYW52YXMiLAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiYgdmFsdWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnY2FudmFzJykgewogICAgICAgIHRoaXMuX2NhbnZhcyA9IGNhbnZhczsKICAgICAgICB0aGlzLmN0eCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICB9CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9jYW52YXM7CiAgICB9CiAgfSwgewogICAga2V5OiAibnVtUG9pbnRzIiwKICAgIHNldDogZnVuY3Rpb24gc2V0KHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA+IDIpIHsKICAgICAgICB0aGlzLl9wb2ludHMgPSB2YWx1ZTsKICAgICAgfQogICAgfSwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fcG9pbnRzIHx8IDMyOwogICAgfQogIH0sIHsKICAgIGtleTogInJhZGl1cyIsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgPiAwKSB7CiAgICAgICAgdGhpcy5fcmFkaXVzID0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3JhZGl1cyB8fCAxNTA7CiAgICB9CiAgfSwgewogICAga2V5OiAicG9zaXRpb24iLAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgaWYgKF90eXBlb2YodmFsdWUpID09ICdvYmplY3QnICYmIHZhbHVlLnggJiYgdmFsdWUueSkgewogICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uIHx8IHsKICAgICAgICB4OiAwLjUsCiAgICAgICAgeTogMC41CiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiZGl2aXNpb25hbCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIE1hdGguUEkgKiAyIC8gdGhpcy5udW1Qb2ludHM7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2VudGVyIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gewogICAgICAgIHg6IHRoaXMuY2FudmFzLndpZHRoICogdGhpcy5wb3NpdGlvbi54LAogICAgICAgIHk6IHRoaXMuY2FudmFzLmhlaWdodCAqIHRoaXMucG9zaXRpb24ueQogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogInJ1bm5pbmciLAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgdGhpcy5fcnVubmluZyA9IHZhbHVlID09PSB0cnVlOwogICAgfSwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5ydW5uaW5nICE9PSBmYWxzZTsKICAgIH0KICB9XSk7CgogIHJldHVybiBCbG9iOwp9KCk7Cgp2YXIgUG9pbnQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gUG9pbnQoYXppbXV0aCwgcGFyZW50KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9pbnQpOwoKICAgIHRoaXMucGFyZW50ID0gcGFyZW50OwogICAgdGhpcy5hemltdXRoID0gTWF0aC5QSSAtIGF6aW11dGg7CiAgICB0aGlzLl9jb21wb25lbnRzID0gewogICAgICB4OiBNYXRoLmNvcyh0aGlzLmF6aW11dGgpLAogICAgICB5OiBNYXRoLnNpbih0aGlzLmF6aW11dGgpCiAgICB9OwogICAgdGhpcy5hY2NlbGVyYXRpb24gPSAtMC4zICsgTWF0aC5yYW5kb20oKSAqIDAuNjsKICB9CgogIF9jcmVhdGVDbGFzcyhQb2ludCwgW3sKICAgIGtleTogInNvbHZlV2l0aCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc29sdmVXaXRoKGxlZnRQb2ludCwgcmlnaHRQb2ludCkgewogICAgICB0aGlzLmFjY2VsZXJhdGlvbiA9ICgtMC4zICogdGhpcy5yYWRpYWxFZmZlY3QgKyAobGVmdFBvaW50LnJhZGlhbEVmZmVjdCAtIHRoaXMucmFkaWFsRWZmZWN0KSArIChyaWdodFBvaW50LnJhZGlhbEVmZmVjdCAtIHRoaXMucmFkaWFsRWZmZWN0KSkgKiB0aGlzLmVsYXN0aWNpdHkgLSB0aGlzLnNwZWVkICogdGhpcy5mcmljdGlvbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhY2NlbGVyYXRpb24iLAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykgewogICAgICAgIHRoaXMuX2FjY2VsZXJhdGlvbiA9IHZhbHVlOwogICAgICAgIHRoaXMuc3BlZWQgKz0gdGhpcy5fYWNjZWxlcmF0aW9uICogMjsKICAgICAgfQogICAgfSwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fYWNjZWxlcmF0aW9uIHx8IDA7CiAgICB9CiAgfSwgewogICAga2V5OiAic3BlZWQiLAogICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpIHsKICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykgewogICAgICAgIHRoaXMuX3NwZWVkID0gdmFsdWU7CiAgICAgICAgdGhpcy5yYWRpYWxFZmZlY3QgKz0gdGhpcy5fc3BlZWQgKiA1OwogICAgICB9CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9zcGVlZCB8fCAwOwogICAgfQogIH0sIHsKICAgIGtleTogInJhZGlhbEVmZmVjdCIsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7CiAgICAgICAgdGhpcy5fcmFkaWFsRWZmZWN0ID0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3JhZGlhbEVmZmVjdCB8fCAwOwogICAgfQogIH0sIHsKICAgIGtleTogInBvc2l0aW9uIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gewogICAgICAgIHg6IHRoaXMucGFyZW50LmNlbnRlci54ICsgdGhpcy5jb21wb25lbnRzLnggKiAodGhpcy5wYXJlbnQucmFkaXVzICsgdGhpcy5yYWRpYWxFZmZlY3QpLAogICAgICAgIHk6IHRoaXMucGFyZW50LmNlbnRlci55ICsgdGhpcy5jb21wb25lbnRzLnkgKiAodGhpcy5wYXJlbnQucmFkaXVzICsgdGhpcy5yYWRpYWxFZmZlY3QpCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiY29tcG9uZW50cyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHM7CiAgICB9CiAgfSwgewogICAga2V5OiAiZWxhc3RpY2l0eSIsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykgewogICAgICAgIHRoaXMuX2VsYXN0aWNpdHkgPSB2YWx1ZTsKICAgICAgfQogICAgfSwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fZWxhc3RpY2l0eSB8fCAwLjAwMTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmcmljdGlvbiIsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykgewogICAgICAgIHRoaXMuX2ZyaWN0aW9uID0gdmFsdWU7CiAgICAgIH0KICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2ZyaWN0aW9uIHx8IDAuMDA4NTsKICAgIH0KICB9XSk7CgogIHJldHVybiBQb2ludDsKfSgpOwoKYmxvYiA9IG5ldyBCbG9iKCk7Cgppbml0ID0gZnVuY3Rpb24gaW5pdCgpIHsKICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpOwogIG5vZGUuc2V0QXR0cmlidXRlKCdjbGFzcycsICdub3RlJyk7CiAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7CiAgY2FudmFzLnNldEF0dHJpYnV0ZSgndG91Y2gtYWN0aW9uJywgJ25vbmUnKTsKICBub2RlLmFwcGVuZENoaWxkKGNhbnZhcyk7CiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub2RlKTsKCiAgdmFyIHJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOwogICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDsKICB9OwoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplKTsKICByZXNpemUoKTsKICB2YXIgb2xkTW91c2VQb2ludCA9IHsKICAgIHg6IDAsCiAgICB5OiAwCiAgfTsKICB2YXIgaG92ZXIgPSBmYWxzZTsKCiAgdmFyIG1vdXNlTW92ZSA9IGZ1bmN0aW9uIG1vdXNlTW92ZShlKSB7CiAgICB2YXIgcG9zID0gYmxvYi5jZW50ZXI7CiAgICB2YXIgZGlmZiA9IHsKICAgICAgeDogZS5jbGllbnRYIC0gcG9zLngsCiAgICAgIHk6IGUuY2xpZW50WSAtIHBvcy55CiAgICB9OwogICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQoZGlmZi54ICogZGlmZi54ICsgZGlmZi55ICogZGlmZi55KTsKICAgIHZhciBhbmdsZSA9IG51bGw7CiAgICBibG9iLm1vdXNlUG9zID0gewogICAgICB4OiBwb3MueCAtIGUuY2xpZW50WCwKICAgICAgeTogcG9zLnkgLSBlLmNsaWVudFkKICAgIH07CgogICAgaWYgKGRpc3QgPCBibG9iLnJhZGl1cyAmJiBob3ZlciA9PT0gZmFsc2UpIHsKICAgICAgdmFyIHZlY3RvciA9IHsKICAgICAgICB4OiBlLmNsaWVudFggLSBwb3MueCwKICAgICAgICB5OiBlLmNsaWVudFkgLSBwb3MueQogICAgICB9OwogICAgICBhbmdsZSA9IE1hdGguYXRhbjIodmVjdG9yLnksIHZlY3Rvci54KTsKICAgICAgaG92ZXIgPSB0cnVlOyAvLyBibG9iLmNvbG9yID0gJyM3N0ZGMDAnOwogICAgfSBlbHNlIGlmIChkaXN0ID4gYmxvYi5yYWRpdXMgJiYgaG92ZXIgPT09IHRydWUpIHsKICAgICAgdmFyIF92ZWN0b3IgPSB7CiAgICAgICAgeDogZS5jbGllbnRYIC0gcG9zLngsCiAgICAgICAgeTogZS5jbGllbnRZIC0gcG9zLnkKICAgICAgfTsKICAgICAgYW5nbGUgPSBNYXRoLmF0YW4yKF92ZWN0b3IueSwgX3ZlY3Rvci54KTsKICAgICAgaG92ZXIgPSBmYWxzZTsKICAgICAgYmxvYi5jb2xvciA9IG51bGw7CiAgICB9CgogICAgaWYgKHR5cGVvZiBhbmdsZSA9PSAnbnVtYmVyJykgewogICAgICB2YXIgbmVhcmVzdFBvaW50ID0gbnVsbDsKICAgICAgdmFyIGRpc3RhbmNlRnJvbVBvaW50ID0gMTAwOwogICAgICBibG9iLnBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkgewogICAgICAgIGlmIChNYXRoLmFicyhhbmdsZSAtIHBvaW50LmF6aW11dGgpIDwgZGlzdGFuY2VGcm9tUG9pbnQpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBvaW50LmF6aW11dGgsIGFuZ2xlLCBkaXN0YW5jZUZyb21Qb2ludCk7CiAgICAgICAgICBuZWFyZXN0UG9pbnQgPSBwb2ludDsKICAgICAgICAgIGRpc3RhbmNlRnJvbVBvaW50ID0gTWF0aC5hYnMoYW5nbGUgLSBwb2ludC5hemltdXRoKTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgaWYgKG5lYXJlc3RQb2ludCkgewogICAgICAgIHZhciBzdHJlbmd0aCA9IHsKICAgICAgICAgIHg6IG9sZE1vdXNlUG9pbnQueCAtIGUuY2xpZW50WCwKICAgICAgICAgIHk6IG9sZE1vdXNlUG9pbnQueSAtIGUuY2xpZW50WQogICAgICAgIH07CiAgICAgICAgc3RyZW5ndGggPSBNYXRoLnNxcnQoc3RyZW5ndGgueCAqIHN0cmVuZ3RoLnggKyBzdHJlbmd0aC55ICogc3RyZW5ndGgueSkgKiAxMDsKICAgICAgICBpZiAoc3RyZW5ndGggPiAxMDApIHN0cmVuZ3RoID0gMTAwOwogICAgICAgIG5lYXJlc3RQb2ludC5hY2NlbGVyYXRpb24gPSBzdHJlbmd0aCAvIDEwMCAqIChob3ZlciA/IC0xIDogMSk7CiAgICAgIH0KICAgIH0KCiAgICBvbGRNb3VzZVBvaW50LnggPSBlLmNsaWVudFg7CiAgICBvbGRNb3VzZVBvaW50LnkgPSBlLmNsaWVudFk7CiAgfTsgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlTW92ZSk7CgoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBtb3VzZU1vdmUpOwogIGJsb2IuY2FudmFzID0gY2FudmFzOwogIGJsb2IuaW5pdCgpOwogIGJsb2IucmVuZGVyKCk7Cn07Cgppbml0KCk7"},{"version":3,"sources":["/Users/tomjongbloets/newsfeed-buid/src/assets/js/bubble.js"],"names":["canvas","ctx","render","init","blob","Blob","points","i","numPoints","point","Point","divisional","push","position","pointsArray","radius","center","clearRect","width","height","solveWith","p0","p1","_p2","beginPath","moveTo","x","y","p2","xc","yc","quadraticCurveTo","fillStyle","color","fill","strokeStyle","requestAnimationFrame","bind","item","value","_color","HTMLElement","tagName","toLowerCase","_canvas","getContext","_points","_radius","_position","Math","PI","_running","running","azimuth","parent","_components","cos","sin","acceleration","random","leftPoint","rightPoint","radialEffect","elasticity","speed","friction","_acceleration","_speed","_radialEffect","components","_elasticity","_friction","node","document","createElement","setAttribute","appendChild","body","resize","window","innerWidth","innerHeight","addEventListener","oldMousePoint","hover","mouseMove","e","pos","diff","clientX","clientY","dist","sqrt","angle","mousePos","vector","atan2","nearestPoint","distanceFromPoint","forEach","abs","strength"],"mappings":"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","sourcesContent":["\nlet canvas, ctx;\nlet render, init;\nlet blob;\n\nclass Blob {\n  constructor() {\n    this.points = [];\n  }\n  \n  init() {\n    for(let i = 0; i < this.numPoints; i++) {\n      let point = new Point(this.divisional * ( i + 1 ), this);\n      // point.acceleration = -1 + Math.random() * 2;\n      this.push(point);\n    }\n  }\n  \n  render() {\n    let canvas = this.canvas;\n    let ctx = this.ctx;\n    let position = this.position;\n    let pointsArray = this.points;\n    let radius = this.radius;\n    let points = this.numPoints;\n    let divisional = this.divisional;\n    let center = this.center;\n    \n    ctx.clearRect(0,0,canvas.width,canvas.height);\n    \n    pointsArray[0].solveWith(pointsArray[points-1], pointsArray[1]);\n\n    let p0 = pointsArray[points-1].position;\n    let p1 = pointsArray[0].position;\n    let _p2 = p1;\n\n    ctx.beginPath();\n    ctx.moveTo(center.x, center.y);\n    ctx.moveTo( (p0.x + p1.x) / 2, (p0.y + p1.y) / 2 );\n\n    for(let i = 1; i < points; i++) {\n      \n      pointsArray[i].solveWith(pointsArray[i-1], pointsArray[i+1] || pointsArray[0]);\n\n      let p2 = pointsArray[i].position;\n      var xc = (p1.x + p2.x) / 2;\n      var yc = (p1.y + p2.y) / 2;\n      ctx.quadraticCurveTo(p1.x, p1.y, xc, yc);\n      // ctx.lineTo(p2.x, p2.y);\n\n      ctx.fillStyle = '#000000';\n      // ctx.fillRect(p1.x-2.5, p1.y-2.5, 5, 5);\n\n      p1 = p2;\n    }\n\n    var xc = (p1.x + _p2.x) / 2;\n    var yc = (p1.y + _p2.y) / 2;\n    ctx.quadraticCurveTo(p1.x, p1.y, xc, yc);\n    // ctx.lineTo(_p2.x, _p2.y);\n\n    // ctx.closePath();\n    ctx.fillStyle = this.color;\n    ctx.fill();\n    ctx.strokeStyle = '#000000';\n    // ctx.stroke();\n    \n/*\n    ctx.fillStyle = '#000000';\n    if(this.mousePos) {\n      let angle = Math.atan2(this.mousePos.y, this.mousePos.x) + Math.PI;\n      ctx.fillRect(center.x + Math.cos(angle) * this.radius, center.y + Math.sin(angle) * this.radius, 5, 5);\n    }\n*/\n    requestAnimationFrame(this.render.bind(this));\n  }\n  \n  push(item) {\n    if(item instanceof Point) {\n      this.points.push(item);\n    }\n  }\n  \n  set color(value) {\n    this._color = value;\n  }\n  get color() {\n    return this._color || '#000000';\n  }\n  \n  set canvas(value) {\n    if(value instanceof HTMLElement && value.tagName.toLowerCase() === 'canvas') {\n      this._canvas = canvas;\n      this.ctx = this._canvas.getContext('2d');\n    }\n  }\n  get canvas() {\n    return this._canvas;\n  }\n  \n  set numPoints(value) {\n    if(value > 2) {\n      this._points = value;\n    }\n  }\n  get numPoints() {\n    return this._points || 32;\n  }\n  \n  set radius(value) {\n    if(value > 0) {\n      this._radius = value;\n    }\n  }\n  get radius() {\n    return this._radius || 150;\n  }\n  \n  set position(value) {\n    if(typeof value == 'object' && value.x && value.y) {\n      this._position = value;\n    }\n  }\n  get position() {\n    return this._position || { x: 0.5, y: 0.5 };\n  }\n  \n  get divisional() {\n    return Math.PI * 2 / this.numPoints;\n  }\n  \n  get center() {\n    return { x: this.canvas.width * this.position.x, y: this.canvas.height * this.position.y };\n  }\n  \n  set running(value) {\n    this._running = value === true;\n  }\n  get running() {\n    return this.running !== false;\n  }\n}\n\nclass Point {\n  constructor(azimuth, parent) {\n    this.parent = parent;\n    this.azimuth = Math.PI - azimuth;\n    this._components = { \n      x: Math.cos(this.azimuth),\n      y: Math.sin(this.azimuth)\n    };\n    \n    this.acceleration = -0.3 + Math.random() * 0.6;\n  }\n  \n  solveWith(leftPoint, rightPoint) {\n    this.acceleration = (-0.3 * this.radialEffect + ( leftPoint.radialEffect - this.radialEffect ) + ( rightPoint.radialEffect - this.radialEffect )) * this.elasticity - this.speed * this.friction;\n  }\n  \n  set acceleration(value) {\n    if(typeof value == 'number') {\n      this._acceleration = value;\n      this.speed += this._acceleration * 2;\n    }\n  }\n  get acceleration() {\n    return this._acceleration || 0;\n  }\n  \n  set speed(value) {\n    if(typeof value == 'number') {\n      this._speed = value;\n      this.radialEffect += this._speed * 5;\n    }\n  }\n  get speed() {\n    return this._speed || 0;\n  }\n  \n  set radialEffect(value) {\n    if(typeof value == 'number') {\n      this._radialEffect = value;\n    }\n  }\n  get radialEffect() {\n    return this._radialEffect || 0;\n  }\n  \n  get position() {\n    return { \n      x: this.parent.center.x + this.components.x * (this.parent.radius + this.radialEffect), \n      y: this.parent.center.y + this.components.y * (this.parent.radius + this.radialEffect) \n    }\n  }\n  \n  get components() {\n    return this._components;\n  }\n\n  set elasticity(value) {\n    if(typeof value === 'number') {\n      this._elasticity = value;\n    }\n  }\n  get elasticity() {\n    return this._elasticity || 0.001;\n  }\n  set friction(value) {\n    if(typeof value === 'number') {\n      this._friction = value;\n    }\n  }\n  get friction() {\n    return this._friction || 0.0085;\n  }\n}\n\nblob = new Blob;\n\ninit = function() {\n    var node = document.createElement(\"DIV\");\n    node.setAttribute('class', 'note')\n  canvas = document.createElement('canvas');\n  canvas.setAttribute('touch-action', 'none');\n\n  node.appendChild(canvas);\n\n  document.body.appendChild(node);\n\n  let resize = function() {\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n  }\n  window.addEventListener('resize', resize);\n  resize();\n  \n  let oldMousePoint = { x: 0, y: 0};\n  let hover = false;\n  let mouseMove = function(e) {\n    \n    let pos = blob.center;\n    let diff = { x: e.clientX - pos.x, y: e.clientY - pos.y };\n    let dist = Math.sqrt((diff.x * diff.x) + (diff.y * diff.y));\n    let angle = null;\n    \n    blob.mousePos = { x: pos.x - e.clientX, y: pos.y - e.clientY };\n    \n    if(dist < blob.radius && hover === false) {\n      let vector = { x: e.clientX - pos.x, y: e.clientY - pos.y };\n      angle = Math.atan2(vector.y, vector.x);\n      hover = true;\n      // blob.color = '#77FF00';\n    } else if(dist > blob.radius && hover === true){ \n      let vector = { x: e.clientX - pos.x, y: e.clientY - pos.y };\n      angle = Math.atan2(vector.y, vector.x);\n      hover = false;\n      blob.color = null;\n    }\n    \n    if(typeof angle == 'number') {\n      \n      let nearestPoint = null;\n      let distanceFromPoint = 100;\n      \n      blob.points.forEach((point)=> {\n        if(Math.abs(angle - point.azimuth) < distanceFromPoint) {\n          // console.log(point.azimuth, angle, distanceFromPoint);\n          nearestPoint = point;\n          distanceFromPoint = Math.abs(angle - point.azimuth);\n        }\n        \n      });\n      \n      if(nearestPoint) {\n        let strength = { x: oldMousePoint.x - e.clientX, y: oldMousePoint.y - e.clientY };\n        strength = Math.sqrt((strength.x * strength.x) + (strength.y * strength.y)) * 10;\n        if(strength > 100) strength = 100;\n        nearestPoint.acceleration = strength / 100 * (hover ? -1 : 1);\n      }\n    }\n    \n    oldMousePoint.x = e.clientX;\n    oldMousePoint.y = e.clientY;\n  }\n  // window.addEventListener('mousemove', mouseMove);\n  window.addEventListener('pointermove', mouseMove);\n  \n  blob.canvas = canvas;\n  blob.init();\n  blob.render();\n}\n\ninit();\n"]}]}